{"ast":null,"code":"import _objectSpread from\"C:/Users/arjoub/Desktop/react  Project/hoo/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"C:/Users/arjoub/Desktop/react  Project/hoo/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/arjoub/Desktop/react  Project/hoo/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\arjoub\\\\Desktop\\\\react  Project\\\\hoo\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useState}from'react';import axios from'axios';// API \nimport Joi from'joi';// for validation\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Register(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),errorList=_useState2[0],setErrorList=_useState2[1];//front end erorr msg\nvar _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),errorMsg=_useState4[0],setErrorMsg=_useState4[1];// if you wanna show error from backend \nfunction submitform(_x){return _submitform.apply(this,arguments);}function _submitform(){_submitform=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var validateform,_yield$axios$post,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:// alert('test');\ne.preventDefault();validateform=validator();if(!validateform.error){_context.next=6;break;}setErrorList(validateform.error.details);// alert(validateform.error.details);\n_context.next=11;break;case 6:_context.next=8;return axios.post('',user);case 8:_yield$axios$post=_context.sent;data=_yield$axios$post.data;if(data.message=='success'){//login \n}else{setErrorMsg(data.message);}case 11:case\"end\":return _context.stop();}}},_callee);}));return _submitform.apply(this,arguments);}var _useState5=useState({//useState to show data from console to view \nfirst_name:'',last_name:'',email:''}),_useState6=_slicedToArray(_useState5,2),user=_useState6[0],setUser=_useState6[1];function validator(){var schema=Joi.object({first_name:Joi.string().max(3).required(),last_name:Joi.string().required().pattern(new RegExp('^[a-z][0-9]{3}$'))// Regax code on react Jo\n});return schema.validate(user,{abortEarly:false});//abortEarly use to check all form not first iteam\n}function getFormvalue(e){var myUser=_objectSpread({},user);myUser[e.target.name]=e.target.value;// to get data by name=\"\"\nsetUser(myUser);console.log(myUser);// to set copy for parent let \n}function change(e){console.log(e.target.value);}return/*#__PURE__*/_jsxs(\"form\",{onSubmit:submitform,children:[errorList.map(function(error,index){return/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-danger\",children:error.message},index);}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"first_name\",children:\"First Name\"}),/*#__PURE__*/_jsx(\"input\",{onChange:getFormvalue,type:\"text\",className:\"form-control\",id:\"first_name\",\"aria-describedby\":\"emailHelp\",name:\"first_name\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"last_name\",children:\"last Name\"}),/*#__PURE__*/_jsx(\"input\",{onChange:getFormvalue,type:\"text\",className:\"form-control\",id:\"last_name\",\"aria-describedby\":\"emailHelp\",name:\"last_name\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Eamil\"}),/*#__PURE__*/_jsx(\"input\",{onChange:getFormvalue,type:\"email\",className:\"form-control\",id:\"email\",\"aria-describedby\":\"emailHelp\",name:\"email\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary float-l eft\",children:\"Submit\"})]});}","map":{"version":3,"sources":["C:/Users/arjoub/Desktop/react  Project/hoo/src/components/Register/Register.jsx"],"names":["React","useState","axios","Joi","Register","errorList","setErrorList","errorMsg","setErrorMsg","submitform","e","preventDefault","validateform","validator","error","details","post","user","data","message","first_name","last_name","email","setUser","schema","object","string","max","required","pattern","RegExp","validate","abortEarly","getFormvalue","myUser","target","name","value","console","log","change","map","index"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\r\nimport axios from 'axios'; // API \r\nimport Joi from 'joi';// for validation\r\n\r\nexport default function Register() {\r\n  let [errorList , setErrorList]=useState([]); //front end erorr msg\r\n  let [errorMsg , setErrorMsg]=useState([]); // if you wanna show error from backend \r\n async function submitform(e){\r\n    // alert('test');\r\n    e.preventDefault();\r\n    let validateform = validator();\r\n    if(validateform.error){\r\n      setErrorList(validateform.error.details);\r\n      // alert(validateform.error.details);\r\n    }\r\n    else{\r\n      //API \r\n      let{data} =  await axios.post('',user)\r\n      if(data.message=='success'){\r\n        //login \r\n      }\r\n      else{\r\n        setErrorMsg(data.message);\r\n      }\r\n    }\r\n    // console.log(validateform);\r\n  }\r\n  let [user , setUser]=useState({ //useState to show data from console to view \r\n    first_name:'',\r\n    last_name:'',\r\n    email:'',\r\n  })\r\n\r\nfunction validator(){\r\n  const schema = Joi.object({\r\n    first_name: Joi.string().max(3).required(),\r\n    last_name: Joi.string().required().pattern(new RegExp('^[a-z][0-9]{3}$')) // Regax code on react Jo\r\n});\r\nreturn schema.validate(user,{abortEarly:false});//abortEarly use to check all form not first iteam\r\n}\r\nfunction getFormvalue(e){\r\n  let  myUser = {...user};\r\n  myUser[e.target.name]=e.target.value; // to get data by name=\"\"\r\nsetUser(myUser);\r\n\r\n  console.log(myUser); // to set copy for parent let \r\n}\r\n  function change(e){\r\nconsole.log(e.target.value);\r\n  }\r\n  return (\r\n<form onSubmit={submitform}>\r\n  {errorList.map( (error, index)=>\r\n\r\n  <div key={index} className='alert alert-danger'>{error.message}</div> \r\n  )}\r\n  <div className=\"form-group\">\r\n    <label htmlFor=\"first_name\">First Name</label>\r\n    <input onChange={getFormvalue} type=\"text\" className=\"form-control\" id=\"first_name\" aria-describedby=\"emailHelp\"name='first_name'/>\r\n  </div>\r\n  <div className=\"form-group\">\r\n    <label htmlFor=\"last_name\">last Name</label>\r\n    <input onChange={getFormvalue} type=\"text\" className=\"form-control\" id=\"last_name\" aria-describedby=\"emailHelp\" name='last_name'/>\r\n  </div>\r\n  <div className=\"form-group\">\r\n    <label htmlFor=\"email\">Eamil</label>\r\n    <input onChange={getFormvalue} type=\"email\" className=\"form-control\" id=\"email\" aria-describedby=\"emailHelp\"name='email' />\r\n  </div>\r\n  <button type=\"submit\" className=\"btn btn-primary float-l eft\">Submit</button>\r\n</form>\r\n  )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}